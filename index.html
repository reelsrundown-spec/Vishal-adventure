<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, orientation=landscape">
    <title>Vishal Head Adventure - Level 1</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background: #000; font-family: 'Arial', sans-serif; touch-action: none; }
        #game-container { position: relative; width: 100vw; height: 100vh; background: linear-gradient(#87CEEB, #a5f3fc); }
        canvas { display: block; width: 100%; height: 100%; }
        
        .hud { position: absolute; top: 20px; left: 20px; color: #ff4757; font-size: 24px; font-weight: bold; text-shadow: 2px 2px rgba(0,0,0,0.3); pointer-events: none; }
        
        .controls { position: absolute; bottom: 30px; width: 100%; display: flex; justify-content: space-between; padding: 0 40px; box-sizing: border-box; }
        .btn-group { display: flex; gap: 20px; }
        .action-btn { width: 80px; height: 80px; border-radius: 50%; background: rgba(0,0,0,0.6); border: 3px solid #fff; color: #fff; font-weight: bold; font-size: 14px; text-transform: uppercase; }
        .action-btn:active { background: #ed4c67; transform: scale(0.9); }
    </style>
</head>
<body>

<div id="game-container">
    <div class="hud" id="lifeCounter">❤️❤️❤️ LIFE</div>
    <canvas id="gameCanvas"></canvas>

    <div class="controls">
        <div class="btn-group">
            <button class="action-btn" id="leftBtn">Left</button>
            <button class="action-btn" id="rightBtn">Right</button>
        </div>
        <div class="btn-group">
            <button class="action-btn" id="jumpBtn">Jump</button>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    
    // Load the head image 
    const heroImage = new Image();
    heroImage.src = 'Vishal.png'; 

    let ball = { x: 100, y: 0, vY: 0, vX: 0, radius: 30, rotation: 0 };
    let groundLevel;

    function init() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        groundLevel = canvas.height - 70;
        ball.y = groundLevel;
    }

    function drawWorld() {
        ctx.fillStyle = "#2ecc71";
        ctx.beginPath();
        ctx.moveTo(0, canvas.height);
        ctx.lineTo(0, groundLevel);
        ctx.quadraticCurveTo(canvas.width/2, groundLevel - 240, canvas.width - 150, groundLevel);
        ctx.lineTo(canvas.width, groundLevel);
        ctx.lineTo(canvas.width, canvas.height);
        ctx.fill();

        const finishX = canvas.width - 100;
        ctx.fillStyle = "#000";
        ctx.fillRect(finishX, groundLevel - 15, 70, 15);
    }

    function drawPlayerBall() {
        ctx.save();
        ctx.translate(ball.x, ball.y - ball.radius);
        ctx.rotate(ball.rotation);
        
        // Drawing the face image as a rolling ball
        if(heroImage.complete && heroImage.naturalWidth !== 0) {
            ctx.drawImage(heroImage, -ball.radius, -ball.radius, ball.radius * 2, ball.radius * 2);
        } else {
            // Fallback circle if image is not loaded yet
            ctx.fillStyle = "#fff";
            ctx.beginPath();
            ctx.arc(0, 0, ball.radius, 0, Math.PI * 2);
            ctx.fill();
        }
        ctx.restore();
    }

    function update() {
        ball.x += ball.vX;
        ball.y += ball.vY;
        ball.vX *= 0.95; 
        
        // Rotation speed based on movement
        ball.rotation += ball.vX * 0.1; 

        let hillHeight = 0;
        if(ball.x > 0 && ball.x < canvas.width - 150) {
            hillHeight = Math.sin((ball.x / (canvas.width - 150)) * Math.PI) * 190;
        }
        let dynamicGround = groundLevel - hillHeight;

        if(ball.y < dynamicGround) {
            ball.vY += 1.2;
        } else {
            ball.vY = 0;
            ball.y = dynamicGround;
        }

        if(ball.x < ball.radius) ball.x = ball.radius;
        if(ball.x > canvas.width - ball.radius) {
            alert("Victory! The head reached the Finish Line!");
            window.location.reload();
        }
    }

    function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawWorld();
        drawPlayerBall();
        update();
        requestAnimationFrame(gameLoop);
    }

    window.onload = () => {
        init();
        const handle = (id, fn) => {
            const el = document.getElementById(id);
            el.addEventListener('touchstart', (e) => { e.preventDefault(); fn(); });
            el.addEventListener('mousedown', fn);
        };
        handle('leftBtn', () => ball.vX = -8);
        handle('rightBtn', () => ball.vX = 8);
        handle('jumpBtn', () => { if(ball.vY === 0) ball.vY = -18; });
        gameLoop();
    };
    window.onresize = init;
</script>

</body>
</html>
